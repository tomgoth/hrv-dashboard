{"ast":null,"code":"var _jsxFileName = \"/Users/gotht/Documents/PMC/hrv-dashboard/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport axios from \"axios\";\nimport { quantile } from './utils/math';\nimport moment from 'moment';\nimport { VictoryLine, VictoryChart, VictoryBrushContainer, VictoryAxis, VictoryZoomContainer } from 'victory';\n\nfunction App() {\n  const [data, setData] = useState({\n    rMSSD: [],\n    SDNN: []\n  });\n  const [q25, setQ25] = useState();\n  const [q50, setQ50] = useState();\n  const [q75, setQ75] = useState();\n  useEffect(() => {\n    axios.get('http://localhost:3001/recent').then(response => {\n      let r = response.data.data;\n      console.log(r);\n      let rMSSDArr = r.map(datum => datum.rMSSD);\n      let rMSSDData = r.map(datum => {\n        return {\n          y: datum.rMSSD,\n          x: moment(datum.createdAt).toDate()\n        };\n      });\n      let SDNNData = r.map(datum => {\n        return {\n          y: datum.SDNN,\n          x: moment(datum.createdAt).toDate()\n        };\n      });\n      setData({\n        rMSSD: rMSSDData,\n        SDNN: SDNNData\n      });\n      setQ25(quantile(rMSSDArr, .25));\n      setQ50(quantile(rMSSDArr, .50));\n      setQ75(quantile(rMSSDArr, .75));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(VictoryChart, {\n    width: 600,\n    height: 350,\n    scale: {\n      x: \"time\"\n    },\n    containerComponent: /*#__PURE__*/React.createElement(VictoryZoomContainer, {\n      responsive: false,\n      zoomDimension: \"x\",\n      zoomDomain: this.state.zoomDomain,\n      onZoomDomainChange: this.handleZoom.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(VictoryLine, {\n    style: {\n      data: {\n        stroke: \"tomato\"\n      }\n    },\n    data: [{\n      x: new Date(1982, 1, 1),\n      y: 125\n    }, {\n      x: new Date(1987, 1, 1),\n      y: 257\n    }, {\n      x: new Date(1993, 1, 1),\n      y: 345\n    }, {\n      x: new Date(1997, 1, 1),\n      y: 515\n    }, {\n      x: new Date(2001, 1, 1),\n      y: 132\n    }, {\n      x: new Date(2005, 1, 1),\n      y: 305\n    }, {\n      x: new Date(2011, 1, 1),\n      y: 270\n    }, {\n      x: new Date(2015, 1, 1),\n      y: 470\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(VictoryChart, {\n    padding: {\n      top: 0,\n      left: 50,\n      right: 50,\n      bottom: 30\n    },\n    width: 600,\n    height: 90,\n    scale: {\n      x: \"time\"\n    },\n    containerComponent: /*#__PURE__*/React.createElement(VictoryBrushContainer, {\n      responsive: false,\n      brushDimension: \"x\",\n      brushDomain: this.state.selectedDomain,\n      onBrushDomainChange: this.handleBrush.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(VictoryAxis, {\n    tickValues: [new Date(1985, 1, 1), new Date(1990, 1, 1), new Date(1995, 1, 1), new Date(2000, 1, 1), new Date(2005, 1, 1), new Date(2010, 1, 1)],\n    tickFormat: x => new Date(x).getFullYear(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(VictoryLine, {\n    style: {\n      data: {\n        stroke: \"tomato\"\n      }\n    },\n    data: [{\n      x: new Date(1982, 1, 1),\n      y: 125\n    }, {\n      x: new Date(1987, 1, 1),\n      y: 257\n    }, {\n      x: new Date(1993, 1, 1),\n      y: 345\n    }, {\n      x: new Date(1997, 1, 1),\n      y: 515\n    }, {\n      x: new Date(2001, 1, 1),\n      y: 132\n    }, {\n      x: new Date(2005, 1, 1),\n      y: 305\n    }, {\n      x: new Date(2011, 1, 1),\n      y: 270\n    }, {\n      x: new Date(2015, 1, 1),\n      y: 470\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/gotht/Documents/PMC/hrv-dashboard/src/App.js"],"names":["React","useState","useEffect","axios","quantile","moment","VictoryLine","VictoryChart","VictoryBrushContainer","VictoryAxis","VictoryZoomContainer","App","data","setData","rMSSD","SDNN","q25","setQ25","q50","setQ50","q75","setQ75","get","then","response","r","console","log","rMSSDArr","map","datum","rMSSDData","y","x","createdAt","toDate","SDNNData","state","zoomDomain","handleZoom","bind","stroke","Date","top","left","right","bottom","selectedDomain","handleBrush","getFullYear"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport axios from \"axios\"\nimport { quantile } from './utils/math'\nimport moment from 'moment'\nimport {VictoryLine, VictoryChart, VictoryBrushContainer, VictoryAxis, VictoryZoomContainer} from 'victory'\n\n\n\n\n\nfunction App() {\n  const [data, setData] = useState({rMSSD: [], SDNN: []});\n  const [q25, setQ25] = useState();\n  const [q50, setQ50] = useState();\n  const [q75, setQ75] = useState();\n\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/recent')\n      .then((response) => {\n        let r = response.data.data\n        console.log(r)\n        let rMSSDArr = r.map(datum => datum.rMSSD)\n        let rMSSDData = r.map(datum => { return {y: datum.rMSSD, x: moment(datum.createdAt).toDate()} })\n        let SDNNData = r.map(datum => { return {y: datum.SDNN, x: moment(datum.createdAt).toDate()} })\n        \n        setData({rMSSD: rMSSDData, SDNN: SDNNData});\n        setQ25(quantile(rMSSDArr, .25))\n        setQ50(quantile(rMSSDArr, .50))\n        setQ75(quantile(rMSSDArr, .75))\n    })\n  },[])\n\n  \n      return (\n        <div>\n            <VictoryChart width={600} height={350} scale={{x: \"time\"}}\n              containerComponent={\n                <VictoryZoomContainer responsive={false}\n                  zoomDimension=\"x\"\n                  zoomDomain={this.state.zoomDomain}\n                  onZoomDomainChange={this.handleZoom.bind(this)}\n                />\n              }\n            >\n              <VictoryLine\n                style={{\n                  data: {stroke: \"tomato\"}\n                }}\n                data={[\n                  {x: new Date(1982, 1, 1), y: 125},\n                  {x: new Date(1987, 1, 1), y: 257},\n                  {x: new Date(1993, 1, 1), y: 345},\n                  {x: new Date(1997, 1, 1), y: 515},\n                  {x: new Date(2001, 1, 1), y: 132},\n                  {x: new Date(2005, 1, 1), y: 305},\n                  {x: new Date(2011, 1, 1), y: 270},\n                  {x: new Date(2015, 1, 1), y: 470}\n                ]}\n              />\n  \n            </VictoryChart>\n  \n            <VictoryChart\n              padding={{top: 0, left: 50, right: 50, bottom: 30}}\n              width={600} height={90} scale={{x: \"time\"}}\n              containerComponent={\n                <VictoryBrushContainer responsive={false}\n                  brushDimension=\"x\"\n                  brushDomain={this.state.selectedDomain}\n                  onBrushDomainChange={this.handleBrush.bind(this)}\n                />\n              }\n            >\n              <VictoryAxis\n                tickValues={[\n                  new Date(1985, 1, 1),\n                  new Date(1990, 1, 1),\n                  new Date(1995, 1, 1),\n                  new Date(2000, 1, 1),\n                  new Date(2005, 1, 1),\n                  new Date(2010, 1, 1)\n                ]}\n                tickFormat={(x) => new Date(x).getFullYear()}\n              />\n              <VictoryLine\n                style={{\n                  data: {stroke: \"tomato\"}\n                }}\n                data={[\n                  {x: new Date(1982, 1, 1), y: 125},\n                  {x: new Date(1987, 1, 1), y: 257},\n                  {x: new Date(1993, 1, 1), y: 345},\n                  {x: new Date(1997, 1, 1), y: 515},\n                  {x: new Date(2001, 1, 1), y: 132},\n                  {x: new Date(2005, 1, 1), y: 305},\n                  {x: new Date(2011, 1, 1), y: 270},\n                  {x: new Date(2015, 1, 1), y: 470}\n                ]}\n              />\n            </VictoryChart>\n        </div>\n      );\n  }\n  \n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}