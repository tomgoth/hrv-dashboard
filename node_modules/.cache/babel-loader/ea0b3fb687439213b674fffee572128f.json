{"ast":null,"code":"var _jsxFileName = \"/Users/gotht/Documents/PMC/hrv-dashboard/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport axios from \"axios\";\nimport { quantile } from './utils/math';\nimport moment from 'moment';\nimport { VictoryLine, VictoryChart, VictoryBrushContainer, VictoryAxis, VictoryZoomContainer } from 'victory';\n\nfunction App() {\n  const [data, setData] = useState({\n    rMSSD: [],\n    SDNN: []\n  });\n  const [q25, setQ25] = useState();\n  const [q50, setQ50] = useState();\n  const [q75, setQ75] = useState();\n  useEffect(() => {\n    axios.get('http://localhost:3001/recent').then(response => {\n      let r = response.data.data;\n      console.log(r);\n      let rMSSDArr = r.map(datum => datum.rMSSD);\n      let rMSSDData = r.map(datum => {\n        return {\n          y: datum.rMSSD,\n          x: moment(datum.createdAt).toDate()\n        };\n      });\n      let SDNNData = r.map(datum => {\n        return {\n          y: datum.SDNN,\n          x: moment(datum.createdAt).toDate()\n        };\n      });\n      setData({\n        rMSSD: rMSSDData,\n        SDNN: SDNNData\n      });\n      setQ25(quantile(rMSSDArr, .25));\n      setQ50(quantile(rMSSDArr, .50));\n      setQ75(quantile(rMSSDArr, .75));\n    });\n  }, []);\n\n  class App extends React.Component {\n    constructor() {\n      super();\n      this.state = {};\n    }\n\n    handleZoom(domain) {\n      this.setState({\n        selectedDomain: domain\n      });\n    }\n\n    handleBrush(domain) {\n      this.setState({\n        zoomDomain: domain\n      });\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(VictoryChart, {\n        width: 600,\n        height: 350,\n        scale: {\n          x: \"time\"\n        },\n        containerComponent: /*#__PURE__*/React.createElement(VictoryZoomContainer, {\n          responsive: false,\n          zoomDimension: \"x\",\n          zoomDomain: this.state.zoomDomain,\n          onZoomDomainChange: this.handleZoom.bind(this),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(VictoryLine, {\n        style: {\n          data: {\n            stroke: \"tomato\"\n          }\n        },\n        data: [{\n          x: new Date(1982, 1, 1),\n          y: 125\n        }, {\n          x: new Date(1987, 1, 1),\n          y: 257\n        }, {\n          x: new Date(1993, 1, 1),\n          y: 345\n        }, {\n          x: new Date(1997, 1, 1),\n          y: 515\n        }, {\n          x: new Date(2001, 1, 1),\n          y: 132\n        }, {\n          x: new Date(2005, 1, 1),\n          y: 305\n        }, {\n          x: new Date(2011, 1, 1),\n          y: 270\n        }, {\n          x: new Date(2015, 1, 1),\n          y: 470\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(VictoryChart, {\n        padding: {\n          top: 0,\n          left: 50,\n          right: 50,\n          bottom: 30\n        },\n        width: 600,\n        height: 90,\n        scale: {\n          x: \"time\"\n        },\n        containerComponent: /*#__PURE__*/React.createElement(VictoryBrushContainer, {\n          responsive: false,\n          brushDimension: \"x\",\n          brushDomain: this.state.selectedDomain,\n          onBrushDomainChange: this.handleBrush.bind(this),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(VictoryAxis, {\n        tickValues: [new Date(1985, 1, 1), new Date(1990, 1, 1), new Date(1995, 1, 1), new Date(2000, 1, 1), new Date(2005, 1, 1), new Date(2010, 1, 1)],\n        tickFormat: x => new Date(x).getFullYear(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(VictoryLine, {\n        style: {\n          data: {\n            stroke: \"tomato\"\n          }\n        },\n        data: [{\n          x: new Date(1982, 1, 1),\n          y: 125\n        }, {\n          x: new Date(1987, 1, 1),\n          y: 257\n        }, {\n          x: new Date(1993, 1, 1),\n          y: 345\n        }, {\n          x: new Date(1997, 1, 1),\n          y: 515\n        }, {\n          x: new Date(2001, 1, 1),\n          y: 132\n        }, {\n          x: new Date(2005, 1, 1),\n          y: 305\n        }, {\n          x: new Date(2011, 1, 1),\n          y: 270\n        }, {\n          x: new Date(2015, 1, 1),\n          y: 470\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }\n      })));\n    }\n\n  }\n\n  ReactDOM.render( /*#__PURE__*/React.createElement(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }), mountNode);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/gotht/Documents/PMC/hrv-dashboard/src/App.js"],"names":["React","useState","useEffect","axios","quantile","moment","VictoryLine","VictoryChart","VictoryBrushContainer","VictoryAxis","VictoryZoomContainer","App","data","setData","rMSSD","SDNN","q25","setQ25","q50","setQ50","q75","setQ75","get","then","response","r","console","log","rMSSDArr","map","datum","rMSSDData","y","x","createdAt","toDate","SDNNData","Component","constructor","state","handleZoom","domain","setState","selectedDomain","handleBrush","zoomDomain","render","bind","stroke","Date","top","left","right","bottom","getFullYear","ReactDOM","mountNode"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport axios from \"axios\"\nimport { quantile } from './utils/math'\nimport moment from 'moment'\nimport {VictoryLine, VictoryChart, VictoryBrushContainer, VictoryAxis, VictoryZoomContainer} from 'victory'\n\n\n\n\n\nfunction App() {\n  const [data, setData] = useState({rMSSD: [], SDNN: []});\n  const [q25, setQ25] = useState();\n  const [q50, setQ50] = useState();\n  const [q75, setQ75] = useState();\n\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/recent')\n      .then((response) => {\n        let r = response.data.data\n        console.log(r)\n        let rMSSDArr = r.map(datum => datum.rMSSD)\n        let rMSSDData = r.map(datum => { return {y: datum.rMSSD, x: moment(datum.createdAt).toDate()} })\n        let SDNNData = r.map(datum => { return {y: datum.SDNN, x: moment(datum.createdAt).toDate()} })\n        \n        setData({rMSSD: rMSSDData, SDNN: SDNNData});\n        setQ25(quantile(rMSSDArr, .25))\n        setQ50(quantile(rMSSDArr, .50))\n        setQ75(quantile(rMSSDArr, .75))\n    })\n  },[])\n\n  \n\n  class App extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {};\n    }\n  \n    handleZoom(domain) {\n      this.setState({selectedDomain: domain});\n    }\n  \n    handleBrush(domain) {\n      this.setState({zoomDomain: domain});\n    }\n  \n    render() {\n      return (\n        <div>\n            <VictoryChart width={600} height={350} scale={{x: \"time\"}}\n              containerComponent={\n                <VictoryZoomContainer responsive={false}\n                  zoomDimension=\"x\"\n                  zoomDomain={this.state.zoomDomain}\n                  onZoomDomainChange={this.handleZoom.bind(this)}\n                />\n              }\n            >\n              <VictoryLine\n                style={{\n                  data: {stroke: \"tomato\"}\n                }}\n                data={[\n                  {x: new Date(1982, 1, 1), y: 125},\n                  {x: new Date(1987, 1, 1), y: 257},\n                  {x: new Date(1993, 1, 1), y: 345},\n                  {x: new Date(1997, 1, 1), y: 515},\n                  {x: new Date(2001, 1, 1), y: 132},\n                  {x: new Date(2005, 1, 1), y: 305},\n                  {x: new Date(2011, 1, 1), y: 270},\n                  {x: new Date(2015, 1, 1), y: 470}\n                ]}\n              />\n  \n            </VictoryChart>\n  \n            <VictoryChart\n              padding={{top: 0, left: 50, right: 50, bottom: 30}}\n              width={600} height={90} scale={{x: \"time\"}}\n              containerComponent={\n                <VictoryBrushContainer responsive={false}\n                  brushDimension=\"x\"\n                  brushDomain={this.state.selectedDomain}\n                  onBrushDomainChange={this.handleBrush.bind(this)}\n                />\n              }\n            >\n              <VictoryAxis\n                tickValues={[\n                  new Date(1985, 1, 1),\n                  new Date(1990, 1, 1),\n                  new Date(1995, 1, 1),\n                  new Date(2000, 1, 1),\n                  new Date(2005, 1, 1),\n                  new Date(2010, 1, 1)\n                ]}\n                tickFormat={(x) => new Date(x).getFullYear()}\n              />\n              <VictoryLine\n                style={{\n                  data: {stroke: \"tomato\"}\n                }}\n                data={[\n                  {x: new Date(1982, 1, 1), y: 125},\n                  {x: new Date(1987, 1, 1), y: 257},\n                  {x: new Date(1993, 1, 1), y: 345},\n                  {x: new Date(1997, 1, 1), y: 515},\n                  {x: new Date(2001, 1, 1), y: 132},\n                  {x: new Date(2005, 1, 1), y: 305},\n                  {x: new Date(2011, 1, 1), y: 270},\n                  {x: new Date(2015, 1, 1), y: 470}\n                ]}\n              />\n            </VictoryChart>\n        </div>\n      );\n    }\n  }\n  ReactDOM.render(<App/>, mountNode)\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}